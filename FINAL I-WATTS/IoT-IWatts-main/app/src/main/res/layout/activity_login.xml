<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/background_gradient"
    android:fillViewport="true"
    android:clipToPadding="false"
    android:clipChildren="false"
    android:padding="16dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="16dp"
        android:clipToPadding="false"
        android:clipChildren="false">

        <!-- Logo only -->
        <ImageView
            android:layout_width="140dp"
            android:layout_height="140dp"
            android:layout_marginBottom="32dp"
            android:src="@drawable/img_iwatts_logo"
            android:contentDescription="I-WATTS Logo" />

        <!-- Username Input -->
        <com.google.android.material.textfield.TextInputLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            android:hint="Username">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/usernameEditText"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:inputType="text"
                android:textColor="#863B17" />

        </com.google.android.material.textfield.TextInputLayout>

        <!-- Password Input -->
        <com.google.android.material.textfield.TextInputLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            android:hint="Password"
            app:endIconMode="password_toggle">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/passwordEditText"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:inputType="textPassword"
                android:textColor="#863B17" />

        </com.google.android.material.textfield.TextInputLayout>

        <!-- Agreement Row -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <CheckBox
                android:id="@+id/termsCheckbox"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content" />

            <TextView
                android:id="@+id/termsText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="8dp"
                android:textColor="#863B17"
                android:textSize="14sp"
                android:text="I agree to the Terms and Conditions and Privacy Policy"
                android:autoLink="none" />

        </LinearLayout>

        <!-- Login Button -->
        <Button
            android:id="@+id/loginButton"
            android:layout_width="match_parent"
            android:layout_height="56dp"
            android:layout_marginBottom="16dp"
            android:backgroundTint="#863B17"
            android:text="LOGIN"
            android:textColor="@android:color/white"
            android:textSize="16sp"
            android:textStyle="bold"
            app:cornerRadius="8dp" />

        <!-- Default Credentials Info -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:text="Default: PowerLogger / admin123"
            android:textColor="#666666"
            android:layout_marginBottom="24dp"
            android:textSize="12sp"
            android:textStyle="italic" />

        <!-- Hardware Setup Instructions Card (Always Visible) -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="8dp"
            app:cardUseCompatPadding="true"
            app:cardBackgroundColor="#FFF3E0">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <!-- Instructions Title -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center"
                    android:layout_marginBottom="16dp"
                    android:text="Hardware Setup Instructions"
                    android:textColor="#863B17"
                    android:textSize="18sp"
                    android:textStyle="bold" />

                <!-- Step-by-step instructions -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:text=" To setup your PowerLogger device:"
                    android:textColor="#863B17"
                    android:textSize="14sp"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:lineSpacingExtra="2dp"
                    android:text="1. Turn off the PowerLogger device. (Make sure it is not charging.)\n2. Press and hold the top button while turning the device on.\n3. Keep holding the button for 10 seconds, then release.\n4. On your phone, connect to the Wi-Fi network named &quot;PowerLogger.&quot;\n5. Enter the password: admin123\n6. Return to this app and tap Setup to continue."
                    android:textColor="#666666"
                    android:textSize="13sp" />

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!-- Hardware Setup Button (Shows when connected to PowerLogger) -->
        <Button
            android:id="@+id/setupButton"
            android:layout_width="match_parent"
            android:layout_height="56dp"
            android:backgroundTint="#FFA726"
            android:text="CONFIGURE DEVICE WIFI"
            android:textColor="@android:color/white"
            android:textSize="16sp"
            android:textStyle="bold"
            android:visibility="gone"
            app:cornerRadius="8dp"
            app:icon="@android:drawable/ic_menu_manage"
            app:iconGravity="textStart"
            app:iconPadding="8dp" />

        <!-- Connection Status -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            android:text="Follow the instructions above to setup your device"
            android:textColor="#666666"
            android:textSize="12sp"
            android:textStyle="italic" />

    </LinearLayout>

</ScrollView>